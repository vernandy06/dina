{% extends 'base.html' %}

{% block main %}
  
    {% if data %}
    <div class="container p-4">
      <h2 class="text-center mb-4">Hasil Analisis</h2>
      <div class="row">
        <div class="col-lg-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h5>Data</h5>
            </div>
            <div class="card-body">
              <table class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Average Temperature</th>
                    <th>Average Humidity</th>
                    <th>Average Rainfall</th>
                    <th>Total Cases</th>
                  </tr>
                </thead>
                <tbody>
                  {% for item in data[0] %}
                  <tr>
                    <td>{{ item["Date"] }}</td>
                    <td>{{ item["Average_Temperature"] }}</td>
                    <td>{{ item["Average_Humidity"] }}</td>
                    <td>{{ item["Average_Rainfall"] }}</td>
                    <td>{{ item["Total_Cases"] }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="col-lg-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h5>Model dan Grafik</h5>
            </div>
            <div class="card-body">
              <p><strong>Persamaan Model:</strong> {{ data[2] }}</p>
              <div class="mb-3">
                <h6>Pair Plot</h6>
                <img src="/static/uploads/pairplot.png" class="img-fluid" alt="Pair Plot">
              </div>
              <div class="mb-3">
                <h6>Total Case Plot</h6>
                <img src="/static/uploads/plotcase.png" class="img-fluid" alt="Total Case Plot">
              </div>
              <div class="mb-3">
                <h6>Correlation Plot</h6>
                <img src="/static/uploads/corr.png" class="img-fluid" alt="Correlation Plot">
              </div>
              <div class="mb-3">
                <h6>Result</h6>
                <img src="/static/uploads/result.png" class="img-fluid" alt="Result Plot">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-header">
              <h5>Evaluation Metrics</h5>
            </div>
            <div class="card-body">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Evaluation</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>RÂ²</td>
                    <td>{{ data[1][0] }}</td>
                  </tr>
                  <tr>
                    <td>MAE</td>
                    <td>{{ data[1][1] }}</td>
                  </tr>
                  <tr>
                    <td>RMSE</td>
                    <td>{{ data[1][2] }}</td>
                  </tr>
                  <tr>
                    <td>MAPES</td>
                    <td>{{ data[1][3] }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      
    </div>

    {% else %}
    <div class="container">
      <h1 class="text-danger text-center">Tidak Ada Data</h1>
    </div>
    {% endif %}
    
{% endblock %}
